<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>30 Minute Countdown</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            /* background: linear-gradient(135deg, #1e3c72, #2a5298); */
            background: linear-gradient(135deg, #021230, #270202);
            font-family: 'Arial', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
            position: relative;
        }

        #countdown {
            font-size: 40vw;
            font-weight: bold;
            color: #ffffff;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
            z-index: 10;
            position: relative;
            text-align: center;
            transition: all 0.3s ease;
        }

        #countdown.gigantic {
            font-size: 60vw;
            color: #ff2424;
            text-shadow: 0 0 30px rgba(255, 107, 107, 0.8);
        }

        #message {
            position: absolute;
            top: 20%;
            left: 50%;
            transform: translateX(-50%);
            font-size: 18vw;
            font-weight: bold;
            color: #ff6b6b;
            text-shadow: 0 0 18px rgba(255, 107, 107, 0.8);
            z-index: 15;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        #message.show {
            opacity: 1;
        }

        .firework {
            position: absolute;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            z-index: 5;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            border-radius: 50%;
            z-index: 5;
        }

        @keyframes firework-explode {
            0% {
                transform: scale(0);
                opacity: 1;
            }
            100% {
                transform: scale(50);
                opacity: 0;
            }
        }

        @keyframes particle-fly {
            0% {
                transform: translate(0, 0);
                opacity: 1;
            }
            100% {
                transform: translate(var(--dx), var(--dy));
                opacity: 0;
            }
        }

        .controls {
            position: absolute;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 20;
            display: flex;
            flex-direction: row;
            gap: 15px;
        }

        button {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 80px;
        }

        button:hover {
            background: rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 255, 255, 0.5);
        }

        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .time-input {
            position: absolute;
            top: 30px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 20;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .time-input label {
            color: white;
            font-size: 18px;
            font-weight: bold;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }

        .time-input input {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 8px 12px;
            border-radius: 20px;
            font-size: 16px;
            text-align: center;
            width: 80px;
            outline: none;
        }

        .time-input input::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        .time-input input:focus {
            border-color: rgba(255, 255, 255, 0.6);
            background: rgba(255, 255, 255, 0.3);
        }

        .time-input button {
            padding: 8px 16px;
            font-size: 14px;
            min-width: 60px;
        }
    </style>
</head>
<body>
    <div class="time-input">
        <label for="minutesInput">Minutes:</label>
        <input type="number" id="minutesInput" placeholder="30" min="1" max="120">
        <button onclick="setCustomTime()" id="setBtn">Set</button>
    </div>

    <div id="countdown">1800</div>
    <div id="message"></div>

    <div class="controls">
        <button onclick="startCountdown()" id="startBtn">Start</button>
        <button onclick="pauseCountdown()" id="pauseBtn" disabled>Pause</button>
        <button onclick="resetCountdown()" id="resetBtn">Reset</button>
    </div>

    <script>
        // INTERESTING NUMBERS CONFIGURATION - Easy to modify
        const INTERESTING_NUMBERS = [
            42, 69, 96, 100, 111, 123, 200, 222, 234, 300,
            321, 333, 345, 400, 432, 444, 456, 500, 543,
            555, 567, 600, 654, 666, 678, 700, 765, 777,
            789, 800, 876, 888, 900, 987, 999, 1000, 1100,
            1111, 1200, 1212, 1222, 1234, 1300, 1313, 1333,
            1400, 1414, 1444, 1500, 1515, 1555, 1600, 1616,
            1666, 1700, 1717, 1777
        ];

        // NUMBER → MESSAGE CONFIGURATION
        // Add or change entries to show a quick message when the countdown hits that second value.
        // Tip: Use absolute seconds (e.g., 600 = 10 minutes). Keep sparse to avoid message spam.
        const NUMBER_MESSAGES = {
            1798: 'Co Len!!',
            // 1793: 'Testmelding',
            1792: '0111 0000 0000',
            1620: '10%',
            1536: '0110 0000 0000',
            1440: '20%',
            1350: 'En firedel',
            1280: '0101 0000 0000',
            1260: '30%',
            1111: '15',
            1110: '14',
            1101: '13',
            1100: '12',
            1080: '40%',
            1024: '0100 0000 0000',
            1011: '11',
            1010: '10',
            1001: '9',
            1000: '8',
             900: 'Halvveis!',
             777: 'Wuhuuuu!!!',
             747: 'Jumbo',
             720: '60%',
             666: 'Morning Star!',
             540: '70%',
             512: '0010 0000 0000',
             450: 'Tre firedeler',
             420: 'Munchies',
             404: 'Not Found',
             360: 'Full circle!',
             314: '3.14159265',
             256: '0001 0000 0000',
             180: 'Turn Around!',
             128: '1000 0000',
             111: '7',
             110: '6',
             101: '5',
             100: '4',
              96: 'Skål!',
              69: 'Nice!',
              64: '0100 0000',
              42: 'Life the Universe and Everything!',
              32: '0010 0000',
              16: '0001 0000',
              11: '3',
              10: '2',
        };

        const INNSPURT_TIME = 63; // Show "INNSPURT!" at this many seconds
        const GIGANTIC_THRESHOLD = 60; // Last 60 seconds get gigantic numbers
        let INITIAL_TIME = 1800; // 30 minutes in seconds = 1800

        let timeLeft = INITIAL_TIME;
        let countdownInterval = null;
        let isRunning = false;

        const countdownElement = document.getElementById('countdown');
        const messageElement = document.getElementById('message');
        const startBtn = document.getElementById('startBtn');
        const pauseBtn = document.getElementById('pauseBtn');
        const resetBtn = document.getElementById('resetBtn');
        const minutesInput = document.getElementById('minutesInput');
        const setBtn = document.getElementById('setBtn');

        function updateDisplay() {
            countdownElement.textContent = timeLeft;

            // Apply gigantic style for last 60 seconds
            if (timeLeft <= GIGANTIC_THRESHOLD && timeLeft > 0) {
                countdownElement.classList.add('gigantic');
            } else {
                countdownElement.classList.remove('gigantic');
            }
        }

        function showMessage(text, duration = 3000) {
            messageElement.textContent = text;
            messageElement.classList.add('show');
            setTimeout(() => {
                messageElement.classList.remove('show');
            }, duration);
        }

        function createFirework(x, y, color) {
            const firework = document.createElement('div');
            firework.className = 'firework';
            firework.style.left = x + 'px';
            firework.style.top = y + 'px';
            firework.style.background = color;
            firework.style.animation = 'firework-explode 1s ease-out forwards';
            document.body.appendChild(firework);

            // Create particles
            for (let i = 0; i < 20; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = x + 'px';
                particle.style.top = y + 'px';
                particle.style.background = color;

                const angle = (i / 20) * 2 * Math.PI;
                const distance = 100 + Math.random() * 100;
                const dx = Math.cos(angle) * distance;
                const dy = Math.sin(angle) * distance;

                particle.style.setProperty('--dx', dx + 'px');
                particle.style.setProperty('--dy', dy + 'px');
                particle.style.animation = 'particle-fly 1.5s ease-out forwards';

                document.body.appendChild(particle);

                setTimeout(() => {
                    particle.remove();
                }, 1500);
            }

            setTimeout(() => {
                firework.remove();
            }, 1000);
        }

        function celebrateWithFireworks(isFinale = false) {
            // const colors = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#96ceb4', '#feca57', '#ff9ff3', '#54a0ff'];
            const colors = ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#00ffff', '#ff00ff', '#ffffff'];
            const fireworkCount = isFinale ? 25 : 10;

            for (let i = 0; i < fireworkCount; i++) {
                setTimeout(() => {
                    const centerX = window.innerWidth / 2;
                    const centerY = window.innerHeight / 2;
                    const quarterWidth = window.innerWidth / 4;
                    const quarterHeight = window.innerHeight / 4;

                    const x = centerX + (Math.random() - 0.5) * quarterWidth;
                    const y = centerY + (Math.random() - 0.5) * quarterHeight;
                    const color = colors[Math.floor(Math.random() * colors.length)];
                    createFirework(x, y, color);
                }, i * (isFinale ? 200 : 500));
            }
        }

        function startCountdown() {
            if (isRunning) return;

            isRunning = true;
            startBtn.disabled = true;
            pauseBtn.disabled = false;

            countdownInterval = setInterval(() => {
                timeLeft--;
                updateDisplay();

                // Check for interesting numbers
                if (INTERESTING_NUMBERS.includes(timeLeft)) {
                    celebrateWithFireworks();
                }

                // Show configured number messages
                if (NUMBER_MESSAGES[timeLeft-1]) { // -1 to show message just as number appears
                    showMessage(NUMBER_MESSAGES[timeLeft-1], 3000);
                }

                // Show "INNSPURT!" message
                if (timeLeft === INNSPURT_TIME) {
                    showMessage('INNSPURT!', 4000);
                }

                // Countdown finished
                if (timeLeft <= 0) {
                    clearInterval(countdownInterval);
                    isRunning = false;
                    countdownElement.textContent = '0';
                    countdownElement.classList.add('gigantic');
                    showMessage('FERDIG!', 5000);
                    celebrateWithFireworks(true); // Extra big finale

                    startBtn.disabled = false;
                    pauseBtn.disabled = true;
                }
            }, 1000);
        }

        function pauseCountdown() {
            if (!isRunning) return;

            clearInterval(countdownInterval);
            isRunning = false;
            startBtn.disabled = false;
            pauseBtn.disabled = true;
        }

        function resetCountdown() {
            clearInterval(countdownInterval);
            isRunning = false;
            timeLeft = INITIAL_TIME;
            updateDisplay();
            countdownElement.classList.remove('gigantic');
            messageElement.classList.remove('show');

            startBtn.disabled = false;
            pauseBtn.disabled = true;
        }

        function setCustomTime() {
            if (isRunning) {
                showMessage('Stop countdown first!', 2000);
                return;
            }

            const minutes = parseInt(minutesInput.value);
            if (isNaN(minutes) || minutes < 1 || minutes > 120) {
                showMessage('Enter 1-120 minutes!', 2000);
                return;
            }

            INITIAL_TIME = minutes * 60;
            timeLeft = INITIAL_TIME;
            updateDisplay();
            showMessage(`Set to ${minutes} minutes (${INITIAL_TIME} seconds)`, 2000);
        }

        // Initialize display
        updateDisplay();

        // Allow Enter key to set time
        minutesInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                setCustomTime();
            }
        });

        // Auto-start on mobile touch
        document.addEventListener('touchstart', function(e) {
            if (!isRunning && timeLeft === INITIAL_TIME) {
                startCountdown();
            }
        }, { once: true });
    </script>
</body>
</html>
